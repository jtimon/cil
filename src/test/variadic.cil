mode test

concat2 := proc(args: ..Str) returns Str {
    mut result := ""
    mut i := 0
    while lt(i, args.len) {
        result = format(result, args.get(i))
        i.inc()
    }
    return result

    catch(err: Str) {
        println(loc(), "concat2: error thrown:")
        println(err)
    }
    catch(err: I64_OverflowError) {
        println(loc(), "concat2: error thrown:")
        println(err.msg)
    }
}
assert_eq_str(loc(), "Variadic hello world!", concat2("Variadic ", "hello ", "world", "!"))
